<Window x:Class="PIDSimulatorGip.view.NewMainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:PIDSimulatorGip.view" 
        xmlns:conv="clr-namespace:PIDSimulatorGip.MVVM"
        xmlns:oxy="http://oxyplot.org/wpf"
        mc:Ignorable="d"
        Title="NewMainWindow" MinHeight="490" MinWidth="800">

    <Window.Resources>
        <conv:LogConverter x:Key="LogConverter"/>
    </Window.Resources>


    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="auto"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="auto"/>
        </Grid.RowDefinitions>
        <!--#region simulation Controlgrid & regelaar/stapsprong grid-->
        <Grid Grid.ColumnSpan="2" HorizontalAlignment="Center">
            <WrapPanel>
                <!--#region regelaar grid-->
                <Grid Grid.ColumnSpan="2" HorizontalAlignment="Center" VerticalAlignment="Center" Visibility="{Binding RegelaarVisibility}" Margin="10">

                    <Border BorderBrush="Black" BorderThickness="2">
                        <StackPanel>
                            <TextBlock FontSize="18" Foreground="Black" HorizontalAlignment="Center" Text="regelaar"/>
                            <WrapPanel HorizontalAlignment="Center">
                                <TextBlock Text="type" FontSize="15" Foreground="Black" Margin="0,0,5,0"/>
                                <ComboBox IsEnabled="{Binding IsRunning}" Height="20" Width="150" SelectedValue="{Binding Type}">
                                    <ComboBoxItem Content="Type A"/>
                                    <ComboBoxItem Content="Type B"/>
                                    <ComboBoxItem Content="Type C"/>
                                </ComboBox>
                            </WrapPanel>
                            <WrapPanel HorizontalAlignment="Center">
                                <TextBlock FontSize="15" Foreground="Black" Text="P - actie waarde "/>
                                <TextBlock FontSize="15" Foreground="Black" Text="binding"/>
                            </WrapPanel>
                            <WrapPanel HorizontalAlignment="Center">
                                <Slider  Minimum="0" Maximum="5" Width="150" Value="{Binding VSFP, Converter={StaticResource LogConverter}}"/>

                                <TextBlock FontSize="15" Foreground="Black" Text="{Binding VSFP, StringFormat=F3}"/>
                            </WrapPanel>
                            <WrapPanel HorizontalAlignment="Center">
                                <TextBlock FontSize="15" Foreground="Black" Text="I - actie waarde "/>
                                <TextBlock FontSize="15" Foreground="Black" Text="binding"/>
                            </WrapPanel>
                            <WrapPanel HorizontalAlignment="Center">
                                <Slider Minimum="0" Maximum="5" Width="150" Value="{Binding VSFI}"/>

                                <TextBlock FontSize="15" Foreground="Black" Text="{Binding VSFI, StringFormat=F3}"/>
                            </WrapPanel>
                            <WrapPanel HorizontalAlignment="Center">
                                <TextBlock FontSize="15" Foreground="Black" Text="D - actie waarde "/>
                                <TextBlock FontSize="15" Foreground="Black" Text="binding"/>
                            </WrapPanel>
                            <WrapPanel HorizontalAlignment="Center">
                                <Slider Minimum="0" Maximum="5" Width="150" Value="{Binding VSFD}"/>

                                <TextBlock FontSize="15" Foreground="Black" Text="{Binding VSFD, StringFormat=F3}"/>
                            </WrapPanel>
                        </StackPanel>
                    </Border>
                </Grid>
                <!--#endregion-->
                <!--#region stapsprong grid-->
                <Grid Grid.ColumnSpan="2" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="10" Visibility="{Binding StapsprongVisibility}">

                    <Border HorizontalAlignment="Center" VerticalAlignment="Center"  BorderBrush="Red" BorderThickness="2">
                        <StackPanel>
                            <TextBlock HorizontalAlignment="Center" FontSize="18" Foreground="Red" Text="stapsprong" Margin="5"/>
                            <WrapPanel HorizontalAlignment="Center">
                                <TextBlock HorizontalAlignment="Center" FontSize="15" Foreground="Red" Text="StartWaarde "/>
                                <TextBlock FontSize="15" Foreground="Red" Text="{Binding StapsprongWaarde, StringFormat=F2}"/>
                            </WrapPanel>
                            <Slider Minimum="0" Maximum="100" Value="{Binding StapsprongWaarde}"/>
                            <WrapPanel HorizontalAlignment="Center">
                                <TextBlock FontSize="15" Foreground="Red" Text="spong waarde "/>
                                <TextBlock FontSize="15" Foreground="Red" Text="{Binding StapsprongChangeWaarde, StringFormat=F2}"/>
                            </WrapPanel>
                            <Slider Minimum="-50" Maximum="50" Value="{Binding StapsprongChangeWaarde}"/>
                            <Button Content="start" FontSize="15" Foreground="Red" Background="White" BorderThickness="1" BorderBrush="Red" Margin="2"/>
                        </StackPanel>
                    </Border>
                </Grid>
                <!--#endregion-->
                <!--#region simulationcontrol grid-->
                <Grid>
                    <Border BorderBrush="RoyalBlue" BorderThickness="2" Margin="10" >
                        <Grid HorizontalAlignment="Center">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition/>
                                <RowDefinition/>
                                <RowDefinition/>
                                <RowDefinition/>
                                <RowDefinition/>
                                <RowDefinition Height="auto"/>
                            </Grid.RowDefinitions>
                            <TextBlock Text="Simulatiecontrols" FontSize="18" Foreground="RoyalBlue" Grid.ColumnSpan="3" HorizontalAlignment="Center"/>

                            <TextBlock Text="wenswaarde" Grid.Row="1"  FontSize="15" Foreground="RoyalBlue" Grid.ColumnSpan="3" HorizontalAlignment="Center" VerticalAlignment="Bottom" Margin="2" Visibility="{Binding RegelaarVisibility}"/>
                            <WrapPanel Grid.Row="2" Grid.ColumnSpan="3">
                                <Slider Margin="5,0"  Minimum="0" Maximum="100" Width="250" Value="{Binding W}" Visibility="{Binding RegelaarVisibility}"/>
                                <TextBlock Margin="5,0" Text="{Binding W}" FontSize="15" Foreground="RoyalBlue" Visibility="{Binding RegelaarVisibility}"/>
                            </WrapPanel>


                            <TextBlock Text="simulatiesnelheid" Grid.Row="3" FontSize="15" Foreground="RoyalBlue" Grid.ColumnSpan="3" HorizontalAlignment="Center" VerticalAlignment="Bottom" Margin="2" Visibility="{Binding SimulatieSnelheidVisibility}"/>
                            <WrapPanel Grid.Row="4" Grid.ColumnSpan="3">
                                <Slider Margin="5,0" Minimum="0.5" Maximum="5" Width="250" IsEnabled="{Binding IsRunning}" Value="{Binding SimulatieSnelheid}" Visibility="{Binding SimulatieSnelheidVisibility}"/>
                                <TextBlock Margin="5,0" Text="{Binding SimulatieSnelheid}" FontSize="15" Foreground="RoyalBlue" Visibility="{Binding SimulatieSnelheidVisibility}"/>
                            </WrapPanel>

                            <Button  Command="{Binding StartCommand}" Foreground="RoyalBlue" Margin="25,10" Height="20" Width="50" Background="White" BorderBrush="RoyalBlue" Grid.Row="5" Content="start"/>
                            <Button  Command="{Binding PauzeCommand}" Foreground="RoyalBlue" Margin="25,10" Height="20" Width="50" Background="White" BorderBrush="RoyalBlue" Grid.Row="5" Grid.Column="1" Content="pauze"/>
                            <Button Command="{Binding ResetCommand}" Foreground="RoyalBlue" Margin="25,10" Height="20" Width="50" Background="White" BorderBrush="RoyalBlue" Grid.Row="5" Grid.Column="2" Content="reset"/>
                        </Grid>
                    </Border>
                </Grid>
                <!--#endregion-->
            </WrapPanel>
        </Grid>
        <!--#endregion-->

        <!--#region proces/graph grid-->
        <Grid Grid.Row="1">
            <Border BorderBrush="Green" BorderThickness="2" Margin="2">
                <Grid HorizontalAlignment="Stretch">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="auto"/>
                        <RowDefinition Height="auto"/>
                        <RowDefinition Height="auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Text="proceskracht" FontSize="15" Foreground="Green" Margin="2,0,2,0"/>
                    <Slider Minimum="0" Maximum="5" Width="150" Grid.Column="1" Value="{Binding Kracht, Mode=TwoWay}"/>
                    <TextBlock Text="{Binding Kracht, StringFormat=F3}" FontSize="15" Foreground="Green" Margin="2,0,2,0" Grid.Column="2"/>

                    <TextBlock Text="tijdsconstante" FontSize="15" Foreground="Green" Grid.Column="4" Margin="0,0,5,0"/>
                    <Slider Minimum="0" Maximum="5" Width="150" IsEnabled="{Binding IsRunning}" Grid.Column="5" Value="{Binding TijdsConstante}"/>
                    <TextBlock Text="{Binding TijdsConstante, StringFormat=F3}" FontSize="15" Foreground="Green" Margin="2,0,2,0" Grid.Column="6"/>

                    <TextBlock Grid.Row="2" Text="proces orde" FontSize="15" Foreground="Green" Margin="2"/>
                    <ComboBox Grid.Row="2" Grid.Column="1" Grid.ColumnSpan="2" Height="20" Width="100" HorizontalAlignment="Left" VerticalAlignment="Top" IsEnabled="{Binding IsRunning}" SelectedValue="{Binding Orde, Mode=TwoWay}">
                        <ComboBoxItem Content="0orde"/>
                        <ComboBoxItem Content="1orde"/>
                        <ComboBoxItem Content="2orde"/>
                    </ComboBox>

                    <TextBlock Grid.Row="2" Grid.Column="4" Text="dodetijd" HorizontalAlignment="Right" FontSize="15" Foreground="Green" Margin="2"/>
                    <ComboBox Grid.Row="2" Grid.Column="5" Height="20" Width="150" Grid.ColumnSpan="2" HorizontalAlignment="Left" VerticalAlignment="Top" IsEnabled="{Binding IsRunning}" SelectedValue="{Binding DodeTijd, Mode=TwoWay}">
                        <ComboBoxItem Content="geen dodetijd"/>
                        <ComboBoxItem Content="klein beetje dodetijd"/>
                        <ComboBoxItem Content="wat dodetijd"/>
                        <ComboBoxItem Content="gemiddeld dodetijd"/>
                        <ComboBoxItem Content="meer dan gemiddeld dodetijd"/>
                        <ComboBoxItem Content="veel dodetijd"/>
                    </ComboBox>

                    <!--#region graph grid-->
                    <Grid Grid.Row="3" Grid.ColumnSpan="7" Margin="5" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                        <Border BorderBrush="RoyalBlue" BorderThickness="2" Margin="2">
                            <oxy:PlotView Model="{Binding MyPlot}"/>
                        </Border>
                    </Grid>
                </Grid>
                <!--#endregion-->
            </Border>
        </Grid>
        <!--#endregion-->
        <!--#region animationgrid-->
        <Grid Grid.Row="1" Grid.Column="1" HorizontalAlignment="Center" Margin="2">
            <Border BorderBrush="Green" BorderThickness="2" >
                <Grid Name="AnimationGrid" Grid.Column="2" Margin="10" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">

                    <Grid.RowDefinitions>
                        <RowDefinition Height="*" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>

                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <!-- Centered WaterTankAnimation -->
                    <Grid Name="WaterTankAnimation" Grid.Row="1" Grid.Column="1" VerticalAlignment="Center" HorizontalAlignment="Center" Visibility="Visible">

                        <!-- Water Tank Container -->
                        <Border BorderBrush="Black" BorderThickness="2" CornerRadius="5" Width="150" Height="200" Background="LightGray" VerticalAlignment="Center" HorizontalAlignment="Center">

                            <!-- Water Level -->
                            <Grid VerticalAlignment="Bottom" HorizontalAlignment="Stretch" Margin="5">
                                <Rectangle Name="WaterRectangle" Fill="LightBlue" VerticalAlignment="Bottom" HorizontalAlignment="Stretch" Height="{Binding ProcesWaarde}"/>
                            </Grid>
                        </Border>
                    </Grid>
                </Grid>

            </Border>
        </Grid>
        <!--#endregion-->

        <!--#region underbar-->
        <Grid Grid.Row="2" Grid.ColumnSpan="2">
            <Border Margin="2" BorderBrush="RoyalBlue" BorderThickness="2">
                <WrapPanel HorizontalAlignment="Center">
                    <TextBlock Text="stapsprong" FontSize="15" Foreground="Red" Margin="2,0,2,0"/>
                    <Button Background="Red" Width="20" Height="20" Margin="2,2,2,2" IsEnabled="{Binding IsRunning}"  Command="{Binding StapSprongCommand}"/>

                    <TextBlock Text="Seriële communicatie" FontSize="15" Foreground="Orange" Margin="2,0,2,0"/>
                    <Button Background="Orange" Width="20" Height="20" Margin="2,2,2,2" IsEnabled="{Binding IsRunning}" Command="{Binding SerialCommCommand}"/>
                </WrapPanel>
            </Border>
        </Grid>
        <!--#endregion-->
    </Grid>
</Window>

